{"version":3,"sources":["../../src/js/index.js"],"names":["mergeOptions","require","getPropValue","motionAllowed","timeToMs","createEl","getRandomIntUnder","defaultOptions","autoHide","onlyOneNotification","parentEl","document","body","position","animations","SN","constructor","userOptions","arguments","length","undefined","this","mergedOptions","motionPref","instanceId","nId","nodes","msgData","timeoutIds","events","onlyOne","set","states","nextMsgData","animatedRun","animated","hideCallTimeout","init","Error","concat","wrapper","nodeSkeletons","tagName","attrs","dataset","parentElFChild","firstElementChild","siblingEl","classList","contains","nextElementSibling","insertBefore","screenPosArray","split","add","nodeClasses","allDestroyed","CustomEvent","detail","destroy","runningDestroy","addEventListener","e","remove","hide","show","text","type","inReshow","isVisible","_reshowNotification","_initNotification","_getMsgData","_showNewNotification","role","values","Object","entries","notification","append","notificationId","shown","destroyed","once","defaultMsgData","notext","notype","message","textContent","anim","base","animTimeout","showAnim","setTimeout","dispatchEvent","hideCall","clearTimeout","inHide","nIdsArray","keys","forEach","nTimeoutIds","timeoutId","id","_hideNotification","hideAnim","className","replace","typeRegex","_destroyNotification","nodesArrayKeys","nodesArrayValues","Promise","resolve","nodeKey","node","then","catch","error","class"],"mappings":"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","sourcesContent":["const mergeOptions = require(\"merge-options\");\nimport { getPropValue, motionAllowed, timeToMs } from \"@codebundlesbyvik/css-operations\";\nimport createEl from \"@codebundlesbyvik/element-operations\";\nimport getRandomIntUnder from \"@codebundlesbyvik/number-operations\";\n\nconst defaultOptions = {\n    autoHide: true,            // Number / Boolean\n    onlyOneNotification: true, // Boolean\n    parentEl: document.body,   // Element\n    position: \"top center\",    // String\n    animations: \"auto\"         // String / Boolean\n};\n\nclass SN {\n    constructor(userOptions = {}) {\n        this.mergedOptions = mergeOptions(defaultOptions, userOptions);\n\n        this.autoHide = this.mergedOptions.autoHide;\n        this.parentEl = this.mergedOptions.parentEl;\n        this.position = this.mergedOptions.position;\n        this.motionPref = this.mergedOptions.animations;\n\n        this.instanceId = null;\n\n        this.nId = 1;\n        this.nodes = {};\n        this.msgData = {};\n\n        this.timeoutIds = {};\n        this.events = {};\n        this.onlyOne = {\n            set: this.mergedOptions.onlyOneNotification,\n            states: {},\n            nextMsgData: {}\n        };\n\n        this.animatedRun = null;\n    }\n\n    static nodeClasses = {\n        wrapper: \"simple-notifier\",\n        notification: \"simple-notification\",\n        typeRegex: /simple-notification--[A-Za-z]+/g,\n        shown: \"is-shown\",\n        anim: {\n            base: \"animated\",\n            show: \"fadeIn\",\n            hide: \"fadeOut\"\n        }\n    }\n\n    static nodeSkeletons = {\n        wrapper: {\n            tagName: \"div\",\n            attrs: {\n                class: SN.nodeClasses.wrapper\n            }\n        },\n        notification: {\n            tagName: \"div\",\n            attrs: {\n                class: SN.nodeClasses.notification,\n                role: \"alert\"\n            }\n        },\n        message: {\n            tagName: \"p\",\n            attrs: {\n                class: `${SN.nodeClasses.notification}__message`\n            }\n        }\n    };\n\n    static defaultMsgData = {\n        notext: {\n            text: \"This is some dummy text for you, because none was passed in.\",\n            type: \"debug\"\n        },\n        notype: {\n            type: \"default\"\n        }\n    };\n\n    get animated() {\n        switch(this.motionPref) {\n            case \"undefined\":\n            case \"auto\":\n                return motionAllowed();\n            default:\n                return this.motionPref;\n        }\n    }\n\n    get hideCallTimeout() {\n        switch(this.autoHide) {\n            case true:\n                return 3500;\n            case false:\n                return 0;\n            default:\n                return this.autoHide;\n        }\n    }\n\n    init() {\n        console.log(\"SN: Running .init()...\");\n\n        if (this.instanceId) {\n            throw new Error(`SN: .init() has already been called on this instance (${this.instanceId}).`);\n        }\n\n        this.instanceId = getRandomIntUnder(100000);\n\n        this.nodes.wrapper = createEl(\n            SN.nodeSkeletons.wrapper.tagName,\n            SN.nodeSkeletons.wrapper.attrs\n        );\n\n        this.nodes.wrapper.dataset.instanceId = this.instanceId;\n\n        const parentElFChild = this.parentEl.firstElementChild;\n\n        // Insert the instance in the DOM after any earlier initialized instances sharing the same parentEl.\n        const siblingEl = parentElFChild.classList.contains(\"simple-notifier\")\n            ? parentElFChild.nextElementSibling\n            : parentElFChild;\n\n        this.parentEl.insertBefore(this.nodes.wrapper, siblingEl);\n\n        const screenPosArray = this.position.split(\" \");\n\n        // If only a y-position is set by the user, add an x-position.\n        if (screenPosArray.length === 1) {\n            screenPosArray[1] = \"center\";\n        }\n\n        this.nodes.wrapper.classList.add(\n            `${SN.nodeClasses.wrapper}--pos-y-${screenPosArray[0]}`,\n            `${SN.nodeClasses.wrapper}--pos-x-${screenPosArray[1]}`\n        );\n\n        this.events.allDestroyed = new CustomEvent(\"allNotificationsDestroyed\", { detail: {\n            instanceId: this.instanceId\n        }});\n\n        console.log(`SN: Instance ${this.instanceId} has been initialized.`);\n    }\n\n    destroy() {\n        console.log(\"SN: Running .destroy()...\");\n\n        if (!this.instanceId) {\n            throw new Error(\"SN: Instance isn't initialized!\");\n        }\n\n        if (this.runningDestroy) {\n            console.log(\"SN: .destroy was called whilst already running. Returning.\");\n\n            return;\n        }\n\n        this.runningDestroy = true;\n\n        this.nodes.wrapper.addEventListener(\"allNotificationsDestroyed\", (e) => {\n            console.log(\"SN: All notifications have been destroyed.\");\n\n            this.nodes.wrapper.remove();\n\n            if (this.onlyOne) {\n                this.onlyOne.states = {};\n                this.onlyOne.nextMsgData = {};\n            }\n\n            this.events = {};\n\n            this.nId = 1;\n\n            this.instanceId = null;\n\n            delete this.runningDestroy;\n\n            console.log(`SN: Instance ${e.detail.instanceId} has been destroyed.`);\n        });\n\n        this.hide();\n    }\n\n    show(text, type) {\n        console.log(\"SN: Running .show()...\");\n\n        if (!this.instanceId) {\n            throw new Error(\"SN: Instance isn't initialized!\");\n        }\n\n        if (this.onlyOne.set) {\n            if (this.onlyOne.states.inReshow) {\n                console.log(\"SN: onlyOneNotification === true and .show() was called during execution ._reshowNotification(). Returning.\");\n\n                return;\n            }\n\n            if (this.onlyOne.states.isVisible) {\n                console.log(\"SN: onlyOneNotification === true and notification is currently visible. Calling ._reshowNotification()...\");\n\n                this._reshowNotification(text, type);\n\n                return;\n            }\n        }\n\n        let nId = this.nId;\n\n        if (!this.onlyOne.set) {\n            this.nId++;\n        }\n\n        this._initNotification(nId);\n\n        this._getMsgData(nId, text, type);\n\n        this._showNewNotification(nId);\n    }\n\n    _initNotification(nId) {\n        console.log(`SN: Running ._initNotification() on nId ${nId}...`);\n\n        this.nodes[nId] = {};\n\n        for (const [role, values] of Object.entries(SN.nodeSkeletons)) {\n            if (role === \"wrapper\")\n                continue;\n\n            this.nodes[nId][role] = createEl(values.tagName, values.attrs);\n\n            if (role === \"notification\") {\n                this.nodes.wrapper.insertBefore(\n                    this.nodes[nId][role],\n                    this.nodes.wrapper.firstElementChild\n                );\n            } else {\n                this.nodes[nId].notification.append(this.nodes[nId][role]);\n            }\n        }\n\n        this.nodes[nId].notification.dataset.notificationId = nId;\n\n        this.timeoutIds[nId] = {};\n\n        this.events[nId] = {};\n\n        this.events[nId].shown = new CustomEvent(\"notificationShown\", { detail: {\n            instanceId: this.instanceId,\n            notificationId: nId\n        }});\n        this.events[nId].destroyed = new CustomEvent(\"notificationDestroyed\", { detail: {\n            instanceId: this.instanceId,\n            notificationId: nId\n        }});\n\n        this.nodes.wrapper.addEventListener(\n            \"notificationShown\",\n            this.events[nId].shown,\n            { once: true }\n        );\n        this.nodes.wrapper.addEventListener(\n            \"notificationDestroyed\",\n            this.events[nId].destroyed,\n            { once: true }\n        );\n    }\n\n    _getMsgData(nId, text, type) {\n        console.log(`SN: Running ._getMsgData on nId ${nId}...`);\n        \n        if (!nId) {\n            console.warn(\"SN: No nId was passed in. Returning!\")\n\n            return;\n        }\n\n        if (!text) {\n            if (this.onlyOne.nextMsgData) {\n                text = this.onlyOne.nextMsgData.text;\n                type = this.onlyOne.nextMsgData.type;\n\n                this.onlyOne.nextMsgData = {};\n            } else {\n                text = SN.defaultMsgData.notext.text;\n                type = SN.defaultMsgData.notext.type;\n            }\n        }\n\n        if (!type) {\n            type = SN.defaultMsgData.notype.type;\n        }\n\n        this.msgData[nId] = {};\n\n        this.msgData[nId].text = text;\n        this.msgData[nId].type = type;\n    }\n\n    _showNewNotification(nId) {\n        console.log(`SN: Running ._showNewNotification() on nId ${nId}...`);\n\n        this.animatedRun = this.animated;\n\n        this.nodes[nId].message.textContent = this.msgData[nId].text;\n\n        this.nodes[nId].notification.classList.add(\n            `${SN.nodeClasses.notification}--${this.msgData[nId].type}`,\n               SN.nodeClasses.shown\n        );\n\n        if (this.animatedRun) {\n            this.nodes[nId].notification.classList.add(\n                SN.nodeClasses.anim.base,\n                SN.nodeClasses.anim.show\n            );\n\n            const animTimeout = timeToMs(getPropValue(\n                this.nodes[nId].notification,\n                \"animation-duration\"\n            ));\n\n            this.timeoutIds[nId].showAnim = setTimeout(() => {\n                this.nodes[nId].notification.classList.remove(SN.nodeClasses.anim.show);\n            }, animTimeout);\n        }\n\n        if (this.onlyOne.set) {\n            this.onlyOne.states.isVisible = true;\n        }\n\n        this.nodes.wrapper.dispatchEvent(this.events[nId].shown);\n\n        if (this.hideCallTimeout > 0) {\n            this.timeoutIds[nId].hideCall = setTimeout(() => {\n                this.hide(nId);\n            }, this.hideCallTimeout);\n        } else {\n            this.animatedRun = null;\n        }\n    }\n\n    _reshowNotification(text, type) {\n        console.log(\"SN: Running ._reshowNotification()...\");\n\n        this.onlyOne.states.inReshow = true;\n\n        this.onlyOne.nextMsgData.text = text;\n        this.onlyOne.nextMsgData.type = type;\n\n        clearTimeout(this.timeoutIds[1].hideCall);\n\n        this.hide(1);\n    }\n\n    hide(nId) {\n        console.log(\"SN: Running .hide()...\");\n\n        if (!this.instanceId) {\n            throw new Error(\"SN: Instance isn't initialized!\");\n        }\n\n        if (this.onlyOne.set) {\n            if (this.onlyOne.states.inHide) {\n                console.log(\"SN: onlyOneNotification === true and .hide() was called whilst already running. Returning.\");\n\n                return;\n            }\n\n            this.onlyOne.states.inHide = true;\n        }\n\n        let nIdsArray;\n\n        if (typeof nId === \"number\") {\n            if (this.msgData[nId] === \"undefined\") {\n                console.warn(`SN: .hide() was called on a non-existant notification. Returning!`);\n\n                return;\n            }\n\n            nIdsArray = [nId];\n        }\n\n        if (typeof nId === \"undefined\") {\n            nIdsArray = Object.keys(this.msgData);\n\n            if (nIdsArray.length > 0) {\n                console.log(this.timeoutIds);\n\n                Object.values(this.timeoutIds).forEach((nTimeoutIds) => {\n                    Object.values(nTimeoutIds).forEach((timeoutId) => {\n                        clearTimeout(timeoutId);\n                    });\n                });\n            }\n            else if (this.runningDestroy) {\n                this.nodes.wrapper.dispatchEvent(this.events.allDestroyed);\n            }\n            else {\n                console.warn(\"SN: .hide() was called, but no notification is currently shown. Returning!\");\n\n                if (this.onlyOne.set) {\n                    this.onlyOne.states.inHide = false;\n                }\n\n                return;\n            }\n        }\n\n        nIdsArray.forEach((id) => {\n            this._hideNotification(id);\n        });\n\n        if (this.onlyOne.set) {\n            this.onlyOne.states.inHide = false;\n        }\n    }\n\n    _hideNotification(nId) {\n        console.log(`SN: Running ._hideNotification() on nId ${nId}...`);\n\n        if (this.animatedRun === null) {\n            this.animatedRun = this.animated;\n        }\n\n        let animTimeout = 0;\n\n        if (this.animatedRun) {\n            this.nodes[nId].notification.classList.add(SN.nodeClasses.anim.hide);\n\n            animTimeout = timeToMs(getPropValue(\n                this.nodes[nId].notification,\n                \"animation-duration\"\n            ));\n        }\n\n        this.timeoutIds[nId].hideAnim = setTimeout(() => {\n            this.nodes[nId].notification.classList.remove(SN.nodeClasses.shown);\n            this.nodes[nId].notification.className =\n                this.nodes[nId].notification.className.replace(SN.nodeClasses.typeRegex, \"\");\n\n            if (this.animatedRun) {\n                this.nodes[nId].notification.classList.remove(SN.nodeClasses.anim.hide);\n            }\n\n            if (this.onlyOne.set) {\n                this.onlyOne.states.isVisible = false;\n            }\n\n            this._destroyNotification(nId);\n        }, animTimeout);\n    }\n\n    _destroyNotification(nId) {\n        console.log(`SN: Running ._destroyNotification() on nId ${nId}...`);\n\n        const nodesArrayKeys = Object.keys(this.nodes[nId]);\n        const nodesArrayValues = Object.values(this.nodes[nId]);\n\n        new Promise((resolve) => {\n            let nodeKey = 0;\n\n            nodesArrayValues.forEach((node) => {\n                node.remove();\n\n                nodeKey++;\n\n                if (nodeKey === nodesArrayKeys.length) {\n                    resolve(\"All nodes have succesfully been removed.\");\n                }\n            });\n        })\n            .then(() => {\n                this.animatedRun = null;\n\n                delete this.nodes[nId];\n                delete this.msgData[nId];\n                delete this.timeoutIds[nId];\n\n                this.nodes.wrapper.dispatchEvent(this.events[nId].destroyed);\n\n                delete this.events[nId];\n\n                console.log(`SN: Notification ${nId} has succesfully been destroyed.`);\n\n                if (Object.keys(this.msgData).length === 0) {\n                    this.nodes.wrapper.dispatchEvent(this.events.allDestroyed);\n                }\n\n                if (this.onlyOne.set && this.onlyOne.states.inReshow) {\n                    this.onlyOne.states.inReshow = false;\n\n                    this.show();\n                }\n            })\n            .catch((error) => {\n                throw new Error(error);\n            });\n    }\n}\n\nexport default SN;\n"]}