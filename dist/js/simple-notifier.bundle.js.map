{"version":3,"file":"simple-notifier.bundle.js","sources":["../../node_modules/is-plain-obj/index.js","../../node_modules/merge-options/index.js","../../node_modules/@codebundlesbyvik/css-operations/getPropValue.js","../../node_modules/@codebundlesbyvik/css-operations/getUnit.js","../../node_modules/@codebundlesbyvik/css-operations/mediaMotion.js","../../node_modules/@codebundlesbyvik/css-operations/timeToMs.js","../../node_modules/@codebundlesbyvik/element-operations/index.js","../../node_modules/@codebundlesbyvik/number-operations/index.js","../../src/js/index.js"],"sourcesContent":["'use strict';\n\nmodule.exports = value => {\n\tif (Object.prototype.toString.call(value) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tconst prototype = Object.getPrototypeOf(value);\n\treturn prototype === null || prototype === Object.prototype;\n};\n","'use strict';\nconst isOptionObject = require('is-plain-obj');\n\nconst {hasOwnProperty} = Object.prototype;\nconst {propertyIsEnumerable} = Object;\nconst defineProperty = (object, name, value) => Object.defineProperty(object, name, {\n\tvalue,\n\twritable: true,\n\tenumerable: true,\n\tconfigurable: true\n});\n\nconst globalThis = this;\nconst defaultMergeOptions = {\n\tconcatArrays: false,\n\tignoreUndefined: false\n};\n\nconst getEnumerableOwnPropertyKeys = value => {\n\tconst keys = [];\n\n\tfor (const key in value) {\n\t\tif (hasOwnProperty.call(value, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\n\t/* istanbul ignore else  */\n\tif (Object.getOwnPropertySymbols) {\n\t\tconst symbols = Object.getOwnPropertySymbols(value);\n\n\t\tfor (const symbol of symbols) {\n\t\t\tif (propertyIsEnumerable.call(value, symbol)) {\n\t\t\t\tkeys.push(symbol);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn keys;\n};\n\nfunction clone(value) {\n\tif (Array.isArray(value)) {\n\t\treturn cloneArray(value);\n\t}\n\n\tif (isOptionObject(value)) {\n\t\treturn cloneOptionObject(value);\n\t}\n\n\treturn value;\n}\n\nfunction cloneArray(array) {\n\tconst result = array.slice(0, 0);\n\n\tgetEnumerableOwnPropertyKeys(array).forEach(key => {\n\t\tdefineProperty(result, key, clone(array[key]));\n\t});\n\n\treturn result;\n}\n\nfunction cloneOptionObject(object) {\n\tconst result = Object.getPrototypeOf(object) === null ? Object.create(null) : {};\n\n\tgetEnumerableOwnPropertyKeys(object).forEach(key => {\n\t\tdefineProperty(result, key, clone(object[key]));\n\t});\n\n\treturn result;\n}\n\n/**\n * @param {*} merged already cloned\n * @param {*} source something to merge\n * @param {string[]} keys keys to merge\n * @param {Object} config Config Object\n * @returns {*} cloned Object\n */\nconst mergeKeys = (merged, source, keys, config) => {\n\tkeys.forEach(key => {\n\t\tif (typeof source[key] === 'undefined' && config.ignoreUndefined) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Do not recurse into prototype chain of merged\n\t\tif (key in merged && merged[key] !== Object.getPrototypeOf(merged)) {\n\t\t\tdefineProperty(merged, key, merge(merged[key], source[key], config));\n\t\t} else {\n\t\t\tdefineProperty(merged, key, clone(source[key]));\n\t\t}\n\t});\n\n\treturn merged;\n};\n\n/**\n * @param {*} merged already cloned\n * @param {*} source something to merge\n * @param {Object} config Config Object\n * @returns {*} cloned Object\n *\n * see [Array.prototype.concat ( ...arguments )](http://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.concat)\n */\nconst concatArrays = (merged, source, config) => {\n\tlet result = merged.slice(0, 0);\n\tlet resultIndex = 0;\n\n\t[merged, source].forEach(array => {\n\t\tconst indices = [];\n\n\t\t// `result.concat(array)` with cloning\n\t\tfor (let k = 0; k < array.length; k++) {\n\t\t\tif (!hasOwnProperty.call(array, k)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tindices.push(String(k));\n\n\t\t\tif (array === merged) {\n\t\t\t\t// Already cloned\n\t\t\t\tdefineProperty(result, resultIndex++, array[k]);\n\t\t\t} else {\n\t\t\t\tdefineProperty(result, resultIndex++, clone(array[k]));\n\t\t\t}\n\t\t}\n\n\t\t// Merge non-index keys\n\t\tresult = mergeKeys(result, array, getEnumerableOwnPropertyKeys(array).filter(key => !indices.includes(key)), config);\n\t});\n\n\treturn result;\n};\n\n/**\n * @param {*} merged already cloned\n * @param {*} source something to merge\n * @param {Object} config Config Object\n * @returns {*} cloned Object\n */\nfunction merge(merged, source, config) {\n\tif (config.concatArrays && Array.isArray(merged) && Array.isArray(source)) {\n\t\treturn concatArrays(merged, source, config);\n\t}\n\n\tif (!isOptionObject(source) || !isOptionObject(merged)) {\n\t\treturn clone(source);\n\t}\n\n\treturn mergeKeys(merged, source, getEnumerableOwnPropertyKeys(source), config);\n}\n\nmodule.exports = function (...options) {\n\tconst config = merge(clone(defaultMergeOptions), (this !== globalThis && this) || {}, defaultMergeOptions);\n\tlet merged = {_: {}};\n\n\tfor (const option of options) {\n\t\tif (option === undefined) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (!isOptionObject(option)) {\n\t\t\tthrow new TypeError('`' + option + '` is not an Option Object');\n\t\t}\n\n\t\tmerged = merge(merged, {_: option}, config);\n\t}\n\n\treturn merged._;\n};\n","export default function getPropValue(el, prop) {\r\n    const elStyles = window.getComputedStyle(el);\r\n    const propValue = elStyles.getPropertyValue(prop)\r\n\r\n    return propValue === \"\" ? null : propValue;\r\n}\r\n","export default function getUnit(value) {\r\n    let length = value.length;\r\n\r\n    if (!value || !length) {\r\n        return null;\r\n    }\r\n\r\n    let i = length;\r\n\r\n    while (i--) {\r\n        if (!isNaN(value[i])) {\r\n            return value.slice(i + 1, length) || null;\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\n","export default function motionAllowed() {\r\n    return !window.matchMedia(\"(prefers-reduced-motion: reduce)\").matches;\r\n}\r\n","import getUnit from \"./getUnit.js\";\r\n\r\nexport default function timeToMs(time) {\r\n    const number = parseFloat(time);\r\n\r\n    switch (getUnit(time)) {\r\n        case null:\r\n        case \"ms\":\r\n            return number;\r\n\r\n        case \"s\":\r\n            return number * 1000;\r\n\r\n        case \"m\":\r\n            return number * 60000;\r\n\r\n        case \"h\":\r\n            return number * 3600000;\r\n\r\n        case \"d\":\r\n            return number * 86400000;\r\n\r\n        case \"w\":\r\n            return number * 604800000;\r\n\r\n        case \"y\":\r\n            return number * 31536000000;\r\n\r\n        default:\r\n            return null;\r\n    }\r\n}\r\n","export default function createEl(tagName, attrs) {\r\n    const el = document.createElement(tagName);\r\n\r\n    if (attrs) {\r\n        for (let [prop, val] of Object.entries(attrs)) {\r\n            prop = prop.replace(/[A-Z0-9]/g, letter => `-${letter.toLowerCase()}`);\r\n\r\n            el.setAttribute(prop, val);\r\n        }\r\n    }\r\n\r\n    return el;\r\n}\r\n","// Get a random integer under a given number.\r\nexport default function getRandomIntUnder(max, includeMax) {\r\n    const int = includeMax === true ? 0 : 1;\r\n\r\n    return Math.floor(Math.random() * (max - int));\r\n}\r\n","const mergeOptions = require(\"merge-options\");\r\nimport { getPropValue, motionAllowed, timeToMs } from \"@codebundlesbyvik/css-operations\";\r\nimport createEl from \"@codebundlesbyvik/element-operations\";\r\nimport getRandomIntUnder from \"@codebundlesbyvik/number-operations\";\r\n\r\nconst defaultOptions = {\r\n    autoHide: true,            // Number / Boolean\r\n    onlyOneNotification: true, // Boolean\r\n    parentEl: document.body,   // Element\r\n    position: \"top center\",    // String\r\n    animations: \"auto\"         // String / Boolean\r\n};\r\n\r\nclass SN {\r\n    constructor(userOptions = {}) {\r\n        this.mergedOptions = mergeOptions(defaultOptions, userOptions);\r\n\r\n        this.autoHide = this.mergedOptions.autoHide;\r\n        this.parentEl = this.mergedOptions.parentEl;\r\n        this.position = this.mergedOptions.position;\r\n        this.motionPref = this.mergedOptions.animations;\r\n\r\n        this.instanceId = null;\r\n\r\n        this.nId = 1;\r\n        this.nodes = {};\r\n        this.msgData = {};\r\n\r\n        this.timeoutIds = {};\r\n        this.events = {};\r\n        this.onlyOne = {\r\n            set: this.mergedOptions.onlyOneNotification,\r\n            states: {},\r\n            nextMsgData: {}\r\n        };\r\n\r\n        this.animatedRun = null;\r\n    }\r\n\r\n    static nodeClasses = {\r\n        wrapper: \"simple-notifier\",\r\n        notification: \"simple-notification\",\r\n        typeRegex: /simple-notification--[A-Za-z]+/g,\r\n        shown: \"is-shown\",\r\n        anim: {\r\n            base: \"animated\",\r\n            show: \"fadeIn\",\r\n            hide: \"fadeOut\"\r\n        }\r\n    }\r\n\r\n    static nodeSkeletons = {\r\n        wrapper: {\r\n            tagName: \"div\",\r\n            attrs: {\r\n                class: SN.nodeClasses.wrapper\r\n            }\r\n        },\r\n        notification: {\r\n            tagName: \"div\",\r\n            attrs: {\r\n                class: SN.nodeClasses.notification,\r\n                role: \"alert\"\r\n            }\r\n        },\r\n        message: {\r\n            tagName: \"p\",\r\n            attrs: {\r\n                class: `${SN.nodeClasses.notification}__message`\r\n            }\r\n        }\r\n    };\r\n\r\n    static defaultMsgData = {\r\n        notext: {\r\n            text: \"This is some dummy text for you, because none was passed in.\",\r\n            type: \"debug\"\r\n        },\r\n        notype: {\r\n            type: \"default\"\r\n        }\r\n    };\r\n\r\n    get animated() {\r\n        switch(this.motionPref) {\r\n            case \"undefined\":\r\n            case \"auto\":\r\n                return motionAllowed();\r\n            default:\r\n                return this.motionPref;\r\n        }\r\n    }\r\n\r\n    get hideCallTimeout() {\r\n        switch(this.autoHide) {\r\n            case true:\r\n                return 3500;\r\n            case false:\r\n                return 0;\r\n            default:\r\n                return this.autoHide;\r\n        }\r\n    }\r\n\r\n    init() {\r\n        console.log(\"SN: Running .init()...\");\r\n\r\n        if (this.instanceId) {\r\n            throw new Error(`SN: .init() has already been called on this instance (${this.instanceId}).`);\r\n        }\r\n\r\n        this.instanceId = getRandomIntUnder(100000);\r\n\r\n        this.nodes.wrapper = createEl(\r\n            SN.nodeSkeletons.wrapper.tagName,\r\n            SN.nodeSkeletons.wrapper.attrs\r\n        );\r\n\r\n        this.nodes.wrapper.dataset.instanceId = this.instanceId;\r\n\r\n        const parentElFChild = this.parentEl.firstElementChild;\r\n\r\n        // Insert the instance in the DOM after any earlier initialized instances sharing the same parentEl.\r\n        const siblingEl = parentElFChild.classList.contains(\"simple-notifier\")\r\n            ? parentElFChild.nextElementSibling\r\n            : parentElFChild;\r\n\r\n        this.parentEl.insertBefore(this.nodes.wrapper, siblingEl);\r\n\r\n        const screenPosArray = this.position.split(\" \");\r\n\r\n        // If only a y-position is set by the user, add an x-position.\r\n        if (screenPosArray.length === 1) {\r\n            screenPosArray[1] = \"center\";\r\n        }\r\n\r\n        this.nodes.wrapper.classList.add(\r\n            `${SN.nodeClasses.wrapper}--pos-y-${screenPosArray[0]}`,\r\n            `${SN.nodeClasses.wrapper}--pos-x-${screenPosArray[1]}`\r\n        );\r\n\r\n        this.events.allDestroyed = new CustomEvent(\"allNotificationsDestroyed\", { detail: {\r\n            instanceId: this.instanceId\r\n        }});\r\n\r\n        console.log(`SN: Instance ${this.instanceId} has been initialized.`);\r\n    }\r\n\r\n    destroy() {\r\n        console.log(\"SN: Running .destroy()...\");\r\n\r\n        if (!this.instanceId) {\r\n            throw new Error(\"SN: Instance isn't initialized!\");\r\n        }\r\n\r\n        if (this.runningDestroy) {\r\n            console.log(\"SN: .destroy was called whilst already running. Returning.\");\r\n\r\n            return;\r\n        }\r\n\r\n        this.runningDestroy = true;\r\n\r\n        this.nodes.wrapper.addEventListener(\"allNotificationsDestroyed\", (e) => {\r\n            console.log(\"SN: All notifications have been destroyed.\");\r\n\r\n            this.nodes.wrapper.remove();\r\n\r\n            if (this.onlyOne) {\r\n                this.onlyOne.states = {};\r\n                this.onlyOne.nextMsgData = {};\r\n            }\r\n\r\n            this.events = {};\r\n\r\n            this.nId = 1;\r\n\r\n            this.instanceId = null;\r\n\r\n            delete this.runningDestroy;\r\n\r\n            console.log(`SN: Instance ${e.detail.instanceId} has been destroyed.`);\r\n        });\r\n\r\n        this.hide();\r\n    }\r\n\r\n    show(text, type) {\r\n        console.log(\"SN: Running .show()...\");\r\n\r\n        if (!this.instanceId) {\r\n            throw new Error(\"SN: Instance isn't initialized!\");\r\n        }\r\n\r\n        if (this.onlyOne.set) {\r\n            if (this.onlyOne.states.inReshow) {\r\n                console.log(\"SN: onlyOneNotification === true and .show() was called during execution ._reshowNotification(). Returning.\");\r\n\r\n                return;\r\n            }\r\n\r\n            if (this.onlyOne.states.isVisible) {\r\n                console.log(\"SN: onlyOneNotification === true and notification is currently visible. Calling ._reshowNotification()...\");\r\n\r\n                this._reshowNotification(text, type);\r\n\r\n                return;\r\n            }\r\n        }\r\n\r\n        let nId = this.nId;\r\n\r\n        if (!this.onlyOne.set) {\r\n            this.nId++;\r\n        }\r\n\r\n        this._initNotification(nId);\r\n\r\n        this._getMsgData(nId, text, type);\r\n\r\n        this._showNewNotification(nId);\r\n    }\r\n\r\n    _initNotification(nId) {\r\n        console.log(`SN: Running ._initNotification() on nId ${nId}...`);\r\n\r\n        this.nodes[nId] = {};\r\n\r\n        for (const [role, values] of Object.entries(SN.nodeSkeletons)) {\r\n            if (role === \"wrapper\")\r\n                continue;\r\n\r\n            this.nodes[nId][role] = createEl(values.tagName, values.attrs);\r\n\r\n            if (role === \"notification\") {\r\n                this.nodes.wrapper.insertBefore(\r\n                    this.nodes[nId][role],\r\n                    this.nodes.wrapper.firstElementChild\r\n                );\r\n            } else {\r\n                this.nodes[nId].notification.append(this.nodes[nId][role]);\r\n            }\r\n        }\r\n\r\n        this.nodes[nId].notification.dataset.notificationId = nId;\r\n\r\n        this.timeoutIds[nId] = {};\r\n\r\n        this.events[nId] = {};\r\n\r\n        this.events[nId].shown = new CustomEvent(\"notificationShown\", { detail: {\r\n            instanceId: this.instanceId,\r\n            notificationId: nId\r\n        }});\r\n        this.events[nId].destroyed = new CustomEvent(\"notificationDestroyed\", { detail: {\r\n            instanceId: this.instanceId,\r\n            notificationId: nId\r\n        }});\r\n\r\n        this.nodes.wrapper.addEventListener(\r\n            \"notificationShown\",\r\n            this.events[nId].shown,\r\n            { once: true }\r\n        );\r\n        this.nodes.wrapper.addEventListener(\r\n            \"notificationDestroyed\",\r\n            this.events[nId].destroyed,\r\n            { once: true }\r\n        );\r\n    }\r\n\r\n    _getMsgData(nId, text, type) {\r\n        console.log(`SN: Running ._getMsgData on nId ${nId}...`);\r\n\r\n        if (!text) {\r\n            if (this.onlyOne.nextMsgData) {\r\n                text = this.onlyOne.nextMsgData.text;\r\n                type = this.onlyOne.nextMsgData.type;\r\n\r\n                this.onlyOne.nextMsgData = {};\r\n            } else {\r\n                text = SN.defaultMsgData.notext.text;\r\n                type = SN.defaultMsgData.notext.type;\r\n            }\r\n        }\r\n\r\n        if (!type) {\r\n            type = SN.defaultMsgData.notype.type;\r\n        }\r\n\r\n        this.msgData[nId] = {};\r\n\r\n        this.msgData[nId].text = text;\r\n        this.msgData[nId].type = type;\r\n    }\r\n\r\n    _showNewNotification(nId) {\r\n        console.log(`SN: Running ._showNewNotification() on nId ${nId}...`);\r\n\r\n        this.animatedRun = this.animated;\r\n\r\n        this.nodes[nId].message.textContent = this.msgData[nId].text;\r\n\r\n        this.nodes[nId].notification.classList.add(\r\n            `${SN.nodeClasses.notification}--${this.msgData[nId].type}`,\r\n               SN.nodeClasses.shown\r\n        );\r\n\r\n        if (this.animatedRun) {\r\n            this.nodes[nId].notification.classList.add(\r\n                SN.nodeClasses.anim.base,\r\n                SN.nodeClasses.anim.show\r\n            );\r\n\r\n            const animTimeout = timeToMs(getPropValue(\r\n                this.nodes[nId].notification,\r\n                \"animation-duration\"\r\n            ));\r\n\r\n            this.timeoutIds[nId].showAnim = setTimeout(() => {\r\n                this.nodes[nId].notification.classList.remove(SN.nodeClasses.anim.show);\r\n            }, animTimeout);\r\n        }\r\n\r\n        if (this.onlyOne.set) {\r\n            this.onlyOne.states.isVisible = true;\r\n        }\r\n\r\n        this.nodes.wrapper.dispatchEvent(this.events[nId].shown);\r\n\r\n        if (this.hideCallTimeout > 0) {\r\n            this.timeoutIds[nId].hideCall = setTimeout(() => {\r\n                this.hide(nId);\r\n            }, this.hideCallTimeout);\r\n        } else {\r\n            this.animatedRun = null;\r\n        }\r\n    }\r\n\r\n    _reshowNotification(text, type) {\r\n        console.log(\"SN: Running ._reshowNotification()...\");\r\n\r\n        this.onlyOne.states.inReshow = true;\r\n\r\n        this.onlyOne.nextMsgData.text = text;\r\n        this.onlyOne.nextMsgData.type = type;\r\n\r\n        clearTimeout(this.timeoutIds[1].hideCall);\r\n\r\n        this.hide(1);\r\n    }\r\n\r\n    hide(nId) {\r\n        console.log(\"SN: Running .hide()...\");\r\n\r\n        if (!this.instanceId) {\r\n            throw new Error(\"SN: Instance isn't initialized!\");\r\n        }\r\n\r\n        if (this.onlyOne.set) {\r\n            if (this.onlyOne.states.inHide) {\r\n                console.log(\"SN: onlyOneNotification === true and .hide() was called whilst already running. Returning.\");\r\n\r\n                return;\r\n            }\r\n\r\n            this.onlyOne.states.inHide = true;\r\n        }\r\n\r\n        let nIdsArray;\r\n\r\n        if (typeof nId === \"number\") {\r\n            if (this.msgData[nId] === \"undefined\") {\r\n                console.warn(`SN: .hide() was called on a non-existant notification. Returning!`);\r\n\r\n                return;\r\n            }\r\n\r\n            nIdsArray = [nId];\r\n        }\r\n\r\n        if (typeof nId === \"undefined\") {\r\n            nIdsArray = Object.keys(this.msgData);\r\n\r\n            if (nIdsArray.length > 0) {\r\n                console.log(this.timeoutIds);\r\n\r\n                Object.values(this.timeoutIds).forEach((nTimeoutIds) => {\r\n                    Object.values(nTimeoutIds).forEach((timeoutId) => {\r\n                        clearTimeout(timeoutId);\r\n                    });\r\n                });\r\n            } else if (this.runningDestroy) {\r\n                this.nodes.wrapper.dispatchEvent(this.events.allDestroyed);\r\n            } else {\r\n                console.warn(\"SN: .hide() was called, but no notification is currently shown. Returning!\");\r\n\r\n                return;\r\n            }\r\n        }\r\n\r\n        let i = 1;\r\n\r\n        nIdsArray.forEach((id) => {\r\n            this._hideNotification(id);\r\n\r\n            i++;\r\n\r\n            if (this.onlyOne.set && i > nIdsArray.length) {\r\n                this.onlyOne.states.inHide = false;\r\n            }\r\n        });\r\n    }\r\n\r\n    _hideNotification(nId) {\r\n        console.log(`SN: Running ._hideNotification() on nId ${nId}...`);\r\n\r\n        if (this.animatedRun === null) {\r\n            this.animatedRun = this.animated;\r\n        }\r\n\r\n        let animTimeout = 0;\r\n\r\n        if (this.animatedRun) {\r\n            this.nodes[nId].notification.classList.add(SN.nodeClasses.anim.hide);\r\n\r\n            animTimeout = timeToMs(getPropValue(\r\n                this.nodes[nId].notification,\r\n                \"animation-duration\"\r\n            ));\r\n        }\r\n\r\n        this.timeoutIds[nId].hideAnim = setTimeout(() => {\r\n            this.nodes[nId].notification.classList.remove(SN.nodeClasses.shown);\r\n            this.nodes[nId].notification.className =\r\n                this.nodes[nId].notification.className.replace(SN.nodeClasses.typeRegex, \"\");\r\n\r\n            if (this.animatedRun) {\r\n                this.nodes[nId].notification.classList.remove(SN.nodeClasses.anim.hide);\r\n            }\r\n\r\n            if (this.onlyOne.set) {\r\n                this.onlyOne.states.isVisible = false;\r\n            }\r\n\r\n            this._destroyNotification(nId);\r\n        }, animTimeout);\r\n    }\r\n\r\n    _destroyNotification(nId) {\r\n        console.log(`SN: Running ._destroyNotification() on nId ${nId}...`);\r\n\r\n        const nodesArrayKeys = Object.keys(this.nodes[nId]);\r\n        const nodesArrayValues = Object.values(this.nodes[nId]);\r\n\r\n        new Promise((resolve) => {\r\n            let nodeKey = 0;\r\n\r\n            nodesArrayValues.forEach((node) => {\r\n                node.remove();\r\n\r\n                nodeKey++;\r\n\r\n                if (nodeKey === nodesArrayKeys.length) {\r\n                    resolve(\"All nodes have been removed succesfully.\");\r\n                }\r\n            });\r\n        })\r\n            .then(() => {\r\n                this.animatedRun = null;\r\n\r\n                delete this.nodes[nId];\r\n                delete this.msgData[nId];\r\n                delete this.timeoutIds[nId];\r\n\r\n                this.nodes.wrapper.dispatchEvent(this.events[nId].destroyed);\r\n\r\n                delete this.events[nId];\r\n\r\n                console.log(`SN: Notification ${nId} has succesfully been destroyed.`);\r\n\r\n                if (Object.keys(this.msgData).length === 0) {\r\n                    this.nodes.wrapper.dispatchEvent(this.events.allDestroyed);\r\n                }\r\n\r\n                if (this.onlyOne.set && this.onlyOne.states.inReshow) {\r\n                    this.onlyOne.states.inReshow = false;\r\n\r\n                    this.show();\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                throw new Error(error);\r\n            });\r\n    }\r\n}\r\n\r\nexport default SN;\r\n"],"names":["isPlainObj","value","Object","prototype","toString","call","getPrototypeOf","isOptionObject","require$$0","hasOwnProperty","propertyIsEnumerable","defineProperty","object","name","writable","enumerable","configurable","globalThis","this","defaultMergeOptions","concatArrays","ignoreUndefined","getEnumerableOwnPropertyKeys","keys","key","push","getOwnPropertySymbols","symbols","symbol","clone","Array","isArray","cloneArray","cloneOptionObject","array","result","slice","forEach","create","mergeKeys","merged","source","config","merge","resultIndex","indices","k","length","String","filter","includes","mergeOptions","options","_","option","undefined","TypeError","getPropValue","el","prop","elStyles","window","getComputedStyle","propValue","getPropertyValue","getUnit","i","isNaN","motionAllowed","matchMedia","matches","timeToMs","time","number","parseFloat","createEl","tagName","attrs","document","createElement","val","entries","replace","letter","toLowerCase","setAttribute","getRandomIntUnder","max","includeMax","int","Math","floor","random","defaultOptions","autoHide","onlyOneNotification","parentEl","body","position","animations","SN","constructor","userOptions","mergedOptions","motionPref","instanceId","nId","nodes","msgData","timeoutIds","events","onlyOne","set","states","nextMsgData","animatedRun","animated","hideCallTimeout","init","Error","wrapper","nodeSkeletons","dataset","parentElFChild","firstElementChild","siblingEl","classList","contains","nextElementSibling","insertBefore","screenPosArray","split","add","nodeClasses","allDestroyed","CustomEvent","detail","destroy","runningDestroy","addEventListener","e","remove","hide","show","text","type","inReshow","isVisible","_reshowNotification","_initNotification","_getMsgData","_showNewNotification","role","values","notification","append","notificationId","shown","destroyed","once","defaultMsgData","notext","notype","message","textContent","anim","base","animTimeout","showAnim","setTimeout","dispatchEvent","hideCall","clearTimeout","inHide","nIdsArray","nTimeoutIds","timeoutId","id","_hideNotification","hideAnim","className","typeRegex","_destroyNotification","nodesArrayKeys","nodesArrayValues","Promise","resolve","nodeKey","node","then","catch","error","class"],"mappings":"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"}